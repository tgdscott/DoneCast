# Startup Performance Controls\n\nThe API defers DB/migration startup tasks to a background thread so the service port binds quickly. Long runtimes (>60s) were observed when scanning and normalizing large tables. The following env vars help control or skip this work.\n\nEnv Var | Effect\n--------|-------\nSKIP_STARTUP_MIGRATIONS=1 | Skip run_startup_tasks() entirely (fastest)\nBLOCKING_STARTUP_TASKS=1 | Force legacy synchronous behavior before bind\nSTARTUP_TASKS_MODE=sync | Same as blocking (compat)\nSINGLE_STARTUP_TASKS=0 | Allow tasks to run every container start (default is 1 = dedupe)\nSTARTUP_SENTINEL_PATH=/tmp/custom_path | Override sentinel location (written after success)\n\nA sentinel file (default `/tmp/ppp_startup_done`) prevents re-running expensive tasks if SINGLE_STARTUP_TASKS is left at its default (true). Delete it manually or set SINGLE_STARTUP_TASKS=0 to force rerun.\n\nIf you are seeing multi-minute durations, investigate large row counts or slow disk I/O affecting the normalization routines in `startup_tasks.py`. Consider:\n- Disabling normalization for production by factoring those into a separate periodic job.\n- Reducing row scan limits (currently 5000) or introducing pagination with early exit when no changes detected.\n- Moving backfill logic (e.g., expires_at, terms columns) into idempotent Alembic migrations executed offline.\n\n